import{a as h,S as g,i as d}from"./assets/vendor-B0OsYOCc.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function e(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=e(t);fetch(t.href,o)}})();const L="https://pixabay.com/api/",b={key:"48985421-1c318736e0b6dddab9dd61498",image_type:"photo",orientation:"horizontal",safesearch:!0};async function p(a,s,e){try{const r=await h.get(L,{params:{...b,q:a,page:s,per_page:e}});return{hits:r.data.hits,totalHits:r.data.totalHits}}catch(r){return console.error("Error fetching images:",r),{hits:[],totalHits:0}}}function E(){const a=document.querySelector(".gallery");a.innerHTML=""}const w=new g(".gallery a");function y(a){const s=document.querySelector(".gallery");a.forEach(e=>{const r=document.createElement("div");r.classList.add("image-card");const t=document.createElement("img");t.src=e.webformatURL,t.alt=e.tags;const o=document.createElement("a");o.href=e.largeImageURL,o.appendChild(t),r.appendChild(o);const n=document.createElement("div");n.classList.add("card-info"),n.innerHTML=`
            <p>Likes: ${e.likes}</p>
            <p>Views: ${e.views}</p>
            <p>Comments: ${e.comments}</p>
            <p>Downloads: ${e.downloads}</p>
        `,r.appendChild(n),s.appendChild(r)}),w.refresh()}const v=document.querySelector("#search-form"),f=document.querySelector("#search-input"),m=document.querySelector(".loader"),i=document.querySelector("#load-more-button");let l=1;const c=40;let u=0;v.addEventListener("submit",async a=>{a.preventDefault();const s=f.value.trim();if(s){E(),l=1,m.style.display="block",i.style.display="none";try{const{hits:e,totalHits:r}=await p(s,l,c);u=Math.ceil(r/c),e.length===0?d.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"}):(y(e),e.length<c?i.style.display="none":i.style.display="block")}catch(e){console.error("Error fetching images:",e),d.error({title:"Error",message:"Failed. Please try again later."})}finally{m.style.display="none"}}});i.addEventListener("click",async a=>{try{const s=f.value.trim();l++;const{hits:e,totalHits:r}=await p(s,l,c);if(u=Math.ceil(r/c),y(e),window.scrollBy({top:window.innerHeight*2,behavior:"smooth"}),l>=u||e.length===0){i.style.display="none",d.info({title:"No more results",message:"You have reached the last page of results."});return}i.style.display="block"}catch(s){console.error("Error fetching images:",s),d.error({title:"Error",message:"Failed. Please try again later."})}});
//# sourceMappingURL=index.js.map
